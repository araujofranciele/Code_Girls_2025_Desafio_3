# Notas de Estudo ‚Äì AWS CloudFormation

## üìå Conceitos Importantes

* **Stack:** Conjunto de recursos AWS que podem ser gerenciados como uma √∫nica unidade.
* **Template:** Arquivo YAML ou JSON que define a infraestrutura como c√≥digo.
* **Resources:** Elementos que ser√£o provisionados (EC2, Security Group, S3, etc.).
* **Parameters:** Permitem tornar o template din√¢mico (ex.: tipo de inst√¢ncia, nome de chave SSH).
* **User Data:** Script executado na inicializa√ß√£o da inst√¢ncia para configurar servi√ßos automaticamente.
* **Outputs:** Informa√ß√µes finais sobre recursos criados, como IPs, IDs e nomes.

---

## üõ†Ô∏è Servi√ßos e Recursos Utilizados

* **CloudFormation:** Cria√ß√£o, atualiza√ß√£o e exclus√£o de recursos de forma automatizada.
* **EC2:** Inst√¢ncia de m√°quina virtual para teste.
* **Security Group:** Controle de acesso, definindo portas abertas (SSH, HTTP).
* **Amazon Linux 2:** Sistema operacional da inst√¢ncia EC2.
* **Apache Web Server:** Instalado via User Data para criar p√°gina HTML de teste.

---

## üí° Insights e Dicas Pr√°ticas

1. **Valida√ß√£o do template antes do deploy**

   * Evita erros e gasto desnecess√°rio de recursos:

   ```bash
   aws cloudformation validate-template --template-body file://cloudformation-ec2.yaml
   ```

2. **User Data facilita automa√ß√£o**

   * Permite instalar softwares, criar arquivos e configurar servi√ßos ao iniciar a inst√¢ncia.

3. **Par√¢metros tornam o template reutiliz√°vel**

   * Ex.: mudar tipo de inst√¢ncia ou chave SSH sem alterar o c√≥digo YAML.

4. **Outputs s√£o essenciais para integra√ß√£o**

   * √öteis para scripts, outras Stacks ou acessar servi√ßos provisionados.

5. **Monitoramento da Stack**

   * Sempre acompanhar status da cria√ß√£o ou atualiza√ß√£o pelo console ou CLI:

   ```bash
   aws cloudformation describe-stacks --stack-name MinhaPrimeiraStack
   ```

6. **Boas pr√°ticas de seguran√ßa**

   * Limitar IPs no Security Group em ambientes de produ√ß√£o.
   * Nunca deixar chave SSH p√∫blica ou sem prote√ß√£o.

7. **Tags ajudam na organiza√ß√£o**

   * Facilita rastreabilidade, cobran√ßa e identifica√ß√£o de recursos.

---

## ‚ö° Pr√≥ximos Passos para Estudo

* Criar **Stacks mais complexas** com m√∫ltiplas EC2, Load Balancer e RDS.
* Explorar **nested stacks** (Stacks dentro de Stacks).
* Integrar com **CloudWatch e SNS** para alertas autom√°ticos.
* Testar atualiza√ß√µes de Stack e entender comportamento de **rollback**.
